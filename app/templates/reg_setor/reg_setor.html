{% extends 'base.html' %}
{% load static %}

{% block title %}Setor{% endblock %}

{% block content %}
{% block header %}
    {% include "partials/header/header_marrom.html" %}
{% endblock %}

{% if messages %}
<ul class="messages">
    {% for message in messages %}
    <li{% if message.tags %} class="{{ message.tags }} text-center"{% endif %}>{{ message }}</li>
    {% endfor %}
</ul>
{% endif %}

<div class="container">
    <h1 class="text-center">Cadastro de Setores</h1>
    <form class="form_container" method="post" id="setor-form"> {% csrf_token %}
        <div id="setor-fields">
            <div class="setor-row mb-3">
                <div class="mb-3">
                    <label for="nome_setor_0" class="form-label color_marrom">Nome do setor:</label>
                    <input type="text" class="form-control" id="nome_setor_0" name="nome_setor[]" placeholder="Nome aqui" required>
                </div>
                <div class="mb-3">
                    <label for="limit_seats_0" class="form-label color_marrom">Quantidade de cadeiras:</label>
                    <input type="text" class="form-control" id="limit_seats_0" name="limit_seats[]" placeholder="Quantidade de cadeiras" required>
                </div>
            </div>
        </div>
        <div class="mb-3">
            <label for="event" class="form-label color_marrom">Evento:</label>
            <input type="text" class="form-control" id="event" name="event" value="{{ event.nome|default:'' }}" readonly>
            <input type="hidden" name="event" value="{{ event.id|default:'' }}">
        </div>
        <div class="mb-3 text-danger" id="seats_alert" style="display: none;">
            A soma das cadeiras excede o limite restante do evento.
        </div>
        <div class="text-center">
            <button type="button" class="btn bg_verde color_cinza" id="add-setor">Adicionar Setor</button>
            <button type="submit" class="btn bg_verde color_cinza" id="submit_setor">Cadastrar Setores</button>
        </div>
    </form>
</div>
{% endblock %}

{% block footer %}
    {% include 'partials/footer/footer_form.html' %}
{% endblock %}